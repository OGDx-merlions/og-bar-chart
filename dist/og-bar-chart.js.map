{"version":3,"sources":["og-bar-chart.es6.js"],"names":["Polymer","is","properties","unit","type","String","value","width","Number","height","data","Array","observer","axisConfig","Object","margin","_selections","ready","scopeSubtree","$","chart","draw","_massageData","_setDefaults","_prepareChartingArea","_prepareAxes","_drawAxes","drawBars","_drawGridLines","fire","_redraw","newData","oldData","Px","d3","select","selectAll","remove","forEach","d","y","_setDefaultMargin","x","axisColor","customStyle","gridColor","updateStyles","top","right","bottom","left","adjustedWidth","adjustedHeight","svg","append","attr","scaleBand","rangeRound","padding","scaleLinear","clamp","domain","map","start","max","me","xAxis","axisBottom","_xAxis","ticks","call","yAxis","axisLeft","_yAxis","unitPadding","style","text","enter","i","series","length","color","bandwidth","on","selectionColor","total","hideGrid","totalGridLines","tickSize","tickFormat"],"mappings":"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","file":"og-bar-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-bar-chart', \n\n    properties: {\n      /**\n      * Unit for Y-Axis values\n      *\n      * @property unit\n      */\n      unit: {\n        type: String,\n        value: \"\"\n\t\t\t},\n\t\t\t/**\n      * Chart Width\n      *\n      * @property width\n      */\n      width: {\n        type: Number,\n        value: 960\n\t\t\t},\n\t\t\t/**\n      * Chart Height\n      *\n      * @property height\n      */\n      height: {\n        type: Number,\n        value: 300\n      },\n      /**\n\t\t\t* This property is an Array of data.\n\t\t\tMember of each tab data looks like this\n\t\t\t`{\"date\":\"2017-05-01T16:00:00.000Z\",\"actual\":\"11960\",\"target\":\"12950\",\"design\":\"13960\"}`\n      *\n      * @property data\n      */\n\t\t\tdata: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n        observer: \"_redraw\"\n      },\n      /**\n       * Axis Configuration\n       * Eg: {\n\t\t\t\t\t\t\"x\": {\n\t\t\t\t\t\t\t\"tickFormat\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"y\": {\n\t\t\t\t\t\t\t\"tickFormat\": \".3s\",\n\t\t\t\t\t\t\t\"hideGrid\": true,\n\t\t\t\t\t\t\t\"start\": 600\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n       * @property axisConfig\n       */\n\t\t\taxisConfig: {\n\t\t\t\ttype: Object,\n\t\t\t\tvalue: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t\"x\": {\n\t\t\t\t\t\t\t\"tickFormat\": \"\",\n              \"gridColor\": \"steelblue\",\n              \"selectionColor\": \"fuchsia\",\n              \"series\": [\n                {\"color\": \"steelblue\"},\n                {\"color\": \"yellow\"},\n                {\"color\": \"green\"},\n                {\"color\": \"red\"},\n                {\"color\": \"gray\"}\n              ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"y\": {\n\t\t\t\t\t\t\t\"tickFormat\": \".3s\",\n\t\t\t\t\t\t\t\"start\": 0,\n\t\t\t\t\t\t\t\"gridColor\": \"steelblue\"\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n        observer: \"_redraw\"\n      },\n      /**\n\t\t\t* Margin for the charts\n\t\t\tEg:\n\t\t\t`{top: 20, right: 20, bottom: 30, left: 50}`\n      *\n      * @property margins\n      */\n      margin: {\n        type: Object,\n        value() {\n          return {};\n        }\n      },\n      _selections: {\n        type: Object,\n        value() {\n          return {\"total\": 0};\n        }\n      }\n    },\n\n    ready() {\n      this.scopeSubtree(this.$.chart, true);\n    },\n\n    draw: function() {\n      if(!this.data) {return;}\n      let data = this._massageData(this.data);\n\t\t\tthis._setDefaults();\n      this._prepareChartingArea();\n\t\t\tthis._prepareAxes(data);\n      this._drawAxes(data);\n      this.drawBars(data);\n\t\t\tthis._drawGridLines(data);\n      this.fire(\"chart-drawn\", {});\n    },\n    \n    _redraw: function(newData, oldData) {\n      Px.d3.select(this.$.chart).selectAll(\"svg\").remove();\n\t\t\tthis.draw();\n    },\n\n    _massageData(data) {\n\t\t\tdata.forEach((d) => {\n\t\t\t\td.y = +d.y;\n\t\t\t});\n\t\t\treturn data;\n\t\t},\n\n    _setDefaults() {\n\t\t\t// set the dimensions and margins of the graph\n\t\t\tthis._setDefaultMargin();\n\t\t\t\n\t\t\tthis.axisConfig = this.axisConfig || {};\n\t\t\tthis.axisConfig.x = this.axisConfig.x || {};\n      this.axisConfig.y = this.axisConfig.y || {};\n\t\t\tthis.axisConfig.x.axisColor = this.axisConfig.x.axisColor || '#95a5ae';\n      this.axisConfig.y.axisColor = this.axisConfig.y.axisColor || '#95a5ae';\n      this.customStyle['--x-grid-color'] = this.axisConfig.x.gridColor || this.axisConfig.x.axisColor;\n\t\t\tthis.customStyle['--y-grid-color'] = this.axisConfig.y.gridColor || this.axisConfig.y.axisColor;\n\t\t\tthis.customStyle['--font-size'] = \"11px\";\n\t\t\tthis.updateStyles();\n    },\n    \n    _setDefaultMargin() {\n\t\t\tthis.margin = this.margin || {top: 20, right: 20, bottom: 30, left: 50};\n      this.margin.top = this.margin.top || 20;\n      this.margin.right = this.margin.right || 20;\n      this.margin.bottom = this.margin.bottom || 30;\n      this.margin.left = this.margin.left || 50;\n      \n      this.adjustedWidth = this.adjustedWidth || \n        (this.width - this.margin.left - this.margin.right),\n      this.adjustedHeight = this.adjustedHeight || \n        (this.height - this.margin.top - this.margin.bottom);\n    },\n    \n    _prepareChartingArea() {\n\t\t\tlet d3 = Px.d3;\n\t\t\tthis.svg = d3.select(this.$.chart).append(\"svg\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n\t\t\t\t\t.attr(\"width\", \"100%\")\n\t\t\t\t\t.attr(\"height\", \"100%\")\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n\t\t\t\t.append(\"g\")\n\t\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t \t\t\t\"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\t\t},\n\t\t_prepareAxes(data) {\n\t\t\tlet d3 = Px.d3;\n      this.x = d3.scaleBand().rangeRound([0, this.adjustedWidth])\n        .padding(this.axisConfig.x.padding || 0.3);\n\t\t\tthis.y = d3.scaleLinear().rangeRound([this.adjustedHeight, 0]).clamp(true);\n\n\t\t\tthis.x.domain(data.map(function(d) { return d.x; }));\n      this.y.domain([this.axisConfig.y.start || 0, \n        d3.max(data, function(d) { return d.y; })]);\n\t\t},\n\t\t_drawAxes(data) {\n      let x= this.x, y=this.y, me = this, d3 = Px.d3;\n      if(!this.margin.top) {\n        this._setDefaultMargin();\n      }\n\t\t\t// Add the X Axis\n      this.xAxis = d3.axisBottom(x);\n      let _xAxis = this.xAxis;\n\t\t\tif(this.axisConfig.x.ticks) {\n\t\t\t\t_xAxis.ticks(this.axisConfig.x.ticks);\n\t\t\t}\n\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(0,\" + this.adjustedHeight + \")\")\n\t\t\t\t\t.attr(\"class\", \"x-axis\")\n\t\t\t\t\t.call(_xAxis);\n\n      // Add the Y Axis\n      this.yAxis = d3.axisLeft(y);\n\t\t\tlet _yAxis = this.yAxis;\n\t\t\tif(this.axisConfig.y.ticks) {\n\t\t\t\t_yAxis.ticks(this.axisConfig.y.ticks);\n\t\t\t}\n\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"y-axis\")\n\t\t\t\t\t.call(_yAxis);\n\n\t\t\tthis.svg.append(\"text\")\n\t\t\t\t\t.attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", this.axisConfig.y.unitPadding ? \n            this.axisConfig.y.unitPadding  : -this.margin.left)\n\t\t\t\t\t.attr(\"x\", 0 - (this.adjustedHeight / 2))\n\t\t\t\t\t.attr(\"dy\", \"1em\")\n          .attr(\"class\", \"yaxis-label\")\n          .style(\"overflow\", \"clip\")\n\t\t\t\t\t.text(this.unit);\n    },\n    drawBars(data) {\n      let x= this.x, y=this.y, me = this, d3 = Px.d3;\n      this.svg.selectAll(\".bar\")\n        .data(data)\n        .enter().append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"x\", (d) => { return x(d.x); })\n          .attr(\"y\", (d) => { return y(d.y); })\n          .style(\"fill\", (d, i) => {\n            if(this.axisConfig.x.series && this.axisConfig.x.series.length > i) {\n              return this.axisConfig.x.series[i].color || \"steelblue\";\n            }\n            return \"steelblue\";\n          })\n          .attr(\"width\", x.bandwidth())\n          .attr(\"height\", (d) => { return this.adjustedHeight - y(d.y); })\n          .on('click', function(d, i) {\n            if(me.axisConfig.x.selectionColor) {\n              d3.select(this).style(\"fill\", me.axisConfig.x.selectionColor);\n              if(me._selections[i]) {\n                let color = \"steelblue\";\n                if(me.axisConfig.x.series && me.axisConfig.x.series.length > i) {\n                  color = me.axisConfig.x.series[i].color || \"steelblue\";\n                }\n                d3.select(this).style(\"fill\", color);\n              }\n            }\n            if(me._selections[i]) {\n              delete me._selections[i];\n              me._selections.total--;\n            } else {\n              me._selections[i] = true;\n              me._selections.total++;\n            }\n            me.fire(\"bar-clicked\", {\"point\": d, \"data\": data, \n              \"index\": i, \"selections\": me._selections});\n          });\n    },\n\t\t_drawGridLines(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n      if(!this.axisConfig.x.hideGrid) {\n        this.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"grid x-grid\")\n          .call(d3.axisBottom(x)\n              .ticks(this.axisConfig.x.totalGridLines || 5)\n              .tickSize(this.adjustedHeight)\n              .tickFormat(\"\"));\n      }\n\n      if(!this.axisConfig.y.hideGrid) {\n        this.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"grid y-grid\")\n          .call(d3.axisLeft(y)\n              .ticks(this.axisConfig.y.totalGridLines || 5)\n              .tickSize(-this.adjustedWidth)\n              .tickFormat(\"\"));\n      }\n\t\t}\n  });\n})();\n"]}