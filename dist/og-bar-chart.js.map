{"version":3,"sources":["og-bar-chart.es6.js"],"names":["Polymer","is","properties","unit","type","String","value","width","Number","height","data","Array","observer","axisConfig","Object","margin","_selections","ready","scopeSubtree","$","chart","draw","_massageData","_setDefaults","_prepareChartingArea","_prepareAxes","_drawAxes","drawBars","_drawGridLines","fire","_redraw","newData","oldData","Px","d3","select","selectAll","remove","forEach","d","y","_setDefaultMargin","x","axisColor","customStyle","gridColor","updateStyles","top","right","bottom","left","adjustedWidth","adjustedHeight","svg","append","attr","scaleBand","rangeRound","padding","scaleLinear","clamp","domain","map","start","end","max","me","xAxis","axisBottom","_xAxis","ticks","call","yAxis","axisLeft","_yAxis","unitPadding","style","text","enter","i","series","length","color","bandwidth","transition","duration","on","selectionColor","total","tooltip","display","xPosition","event","offsetX","yPosition","offsetY","innerHTML","hideGrid","totalGridLines","tickSize","tickFormat"],"mappings":"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","file":"og-bar-chart.js","sourcesContent":["(function() {\n  Polymer({\n\n    is: 'og-bar-chart',\n\n    properties: {\n      /**\n      * Unit for Y-Axis values\n      *\n      * @property unit\n      */\n      unit: {\n        type: String,\n        value: \"\"\n\t\t\t},\n\t\t\t/**\n      * Chart Width\n      *\n      * @property width\n      */\n      width: {\n        type: Number,\n        value: 960\n\t\t\t},\n\t\t\t/**\n      * Chart Height\n      *\n      * @property height\n      */\n      height: {\n        type: Number,\n        value: 300\n      },\n      /**\n\t\t\t* This property is an Array of data.\n\t\t\tMember of each tab data looks like this\n\t\t\t`{\"date\":\"2017-05-01T16:00:00.000Z\",\"actual\":\"11960\",\"target\":\"12950\",\"design\":\"13960\"}`\n      *\n      * @property data\n      */\n\t\t\tdata: {\n\t\t\t\ttype: Array,\n\t\t\t\tvalue() {\n\t\t\t\t\treturn [];\n\t\t\t\t},\n        observer: \"_redraw\"\n      },\n      /**\n       * Axis Configuration\n       * Eg: {\n\t\t\t\t\t\t\"x\": {\n\t\t\t\t\t\t\t\"tickFormat\": \"\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"y\": {\n\t\t\t\t\t\t\t\"tickFormat\": \".3s\",\n\t\t\t\t\t\t\t\"hideGrid\": true,\n\t\t\t\t\t\t\t\"start\": 600\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n       * @property axisConfig\n       */\n\t\t\taxisConfig: {\n\t\t\t\ttype: Object,\n\t\t\t\tvalue: () => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t\"x\": {\n\t\t\t\t\t\t\t\"tickFormat\": \"\",\n              \"gridColor\": \"steelblue\",\n              \"selectionColor\": \"fuchsia\",\n              \"series\": [\n                {\"color\": \"steelblue\"},\n                {\"color\": \"yellow\"},\n                {\"color\": \"green\"},\n                {\"color\": \"red\"},\n                {\"color\": \"gray\"}\n              ]\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\"y\": {\n\t\t\t\t\t\t\t\"tickFormat\": \".3s\",\n\t\t\t\t\t\t\t\"start\": 0,\n\t\t\t\t\t\t\t\"gridColor\": \"steelblue\"\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t},\n        observer: \"_redraw\"\n      },\n      /**\n\t\t\t* Margin for the charts\n\t\t\tEg:\n\t\t\t`{top: 20, right: 20, bottom: 30, left: 50}`\n      *\n      * @property margins\n      */\n      margin: {\n        type: Object,\n        value() {\n          return {};\n        }\n      },\n      _selections: {\n        type: Object,\n        value() {\n          return {\"total\": 0};\n        }\n      }\n    },\n\n    ready() {\n      this.scopeSubtree(this.$.chart, true);\n    },\n\n    draw: function() {\n      if(!this.data) {return;}\n      let data = this._massageData(this.data);\n\t\t\tthis._setDefaults();\n      this._prepareChartingArea();\n\t\t\tthis._prepareAxes(data);\n      this._drawAxes(data);\n      this.drawBars(data);\n\t\t\tthis._drawGridLines(data);\n      this.fire(\"chart-drawn\", {});\n    },\n\n    _redraw: function(newData, oldData) {\n      Px.d3.select(this.$.chart).selectAll(\"svg\").remove();\n\t\t\tthis.draw();\n    },\n\n    _massageData(data) {\n\t\t\tdata.forEach((d) => {\n\t\t\t\td.y = +d.y;\n\t\t\t});\n\t\t\treturn data;\n\t\t},\n\n    _setDefaults() {\n\t\t\t// set the dimensions and margins of the graph\n\t\t\tthis._setDefaultMargin();\n\n\t\t\tthis.axisConfig = this.axisConfig || {};\n\t\t\tthis.axisConfig.x = this.axisConfig.x || {};\n      this.axisConfig.y = this.axisConfig.y || {};\n\t\t\tthis.axisConfig.x.axisColor = this.axisConfig.x.axisColor || '#95a5ae';\n      this.axisConfig.y.axisColor = this.axisConfig.y.axisColor || '#95a5ae';\n      this.customStyle['--x-grid-color'] = this.axisConfig.x.gridColor || this.axisConfig.x.axisColor;\n\t\t\tthis.customStyle['--y-grid-color'] = this.axisConfig.y.gridColor || this.axisConfig.y.axisColor;\n\t\t\tthis.customStyle['--font-size'] = \"11px\";\n\t\t\tthis.updateStyles();\n    },\n\n    _setDefaultMargin() {\n\t\t\tthis.margin = this.margin || {top: 20, right: 20, bottom: 30, left: 50};\n      this.margin.top = this.margin.top || 20;\n      this.margin.right = this.margin.right || 20;\n      this.margin.bottom = this.margin.bottom || 30;\n      this.margin.left = this.margin.left || 50;\n\n      this.adjustedWidth = this.adjustedWidth ||\n        (this.width - this.margin.left - this.margin.right),\n      this.adjustedHeight = this.adjustedHeight ||\n        (this.height - this.margin.top - this.margin.bottom);\n    },\n\n    _prepareChartingArea() {\n\t\t\tlet d3 = Px.d3;\n\t\t\tthis.svg = d3.select(this.$.chart).append(\"svg\")\n\t\t\t\t\t.attr(\"viewBox\", \"0 0 \"+this.width+\" \"+this.height)\n\t\t\t\t\t.attr(\"width\", \"100%\")\n\t\t\t\t\t.attr(\"height\", \"100%\")\n\t\t\t\t\t.attr(\"preserveAspectRatio\", \"xMidYMid meet\")\n\t\t\t\t.append(\"g\")\n\t\t\t\t\t.attr(\"transform\",\n\t\t\t\t\t \t\t\t\"translate(\" + this.margin.left + \",\" + this.margin.top + \")\");\n\t\t},\n\t\t_prepareAxes(data) {\n\t\t\tlet d3 = Px.d3;\n      this.x = d3.scaleBand().rangeRound([0, this.adjustedWidth])\n        .padding(this.axisConfig.x.padding || 0.3);\n\t\t\tthis.y = d3.scaleLinear().rangeRound([this.adjustedHeight, 0]).clamp(true);\n\n\t\t\tthis.x.domain(data.map(function(d) { return d.x; }));\n      this.y.domain([this.axisConfig.y.start || 0,\n        this.axisConfig.y.end||d3.max(data, function(d) { return d.y; })]);\n\t\t},\n\t\t_drawAxes(data) {\n      let x= this.x, y=this.y, me = this, d3 = Px.d3;\n      if(!this.margin.top) {\n        this._setDefaultMargin();\n      }\n\t\t\t// Add the X Axis\n      this.xAxis = d3.axisBottom(x);\n      let _xAxis = this.xAxis;\n\t\t\tif(this.axisConfig.x.ticks) {\n\t\t\t\t_xAxis.ticks(this.axisConfig.x.ticks);\n\t\t\t}\n\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"transform\", \"translate(0,\" + this.adjustedHeight + \")\")\n\t\t\t\t\t.attr(\"class\", \"x-axis\")\n\t\t\t\t\t.call(_xAxis);\n\n      // Add the Y Axis\n      this.yAxis = d3.axisLeft(y);\n\t\t\tlet _yAxis = this.yAxis;\n\t\t\tif(this.axisConfig.y.ticks) {\n\t\t\t\t_yAxis.ticks(this.axisConfig.y.ticks);\n\t\t\t}\n\t\t\tthis.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"y-axis\")\n\t\t\t\t\t.call(_yAxis);\n\n\t\t\tthis.svg.append(\"text\")\n\t\t\t\t\t.attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", this.axisConfig.y.unitPadding ?\n            this.axisConfig.y.unitPadding  : -this.margin.left)\n\t\t\t\t\t.attr(\"x\", 0 - (this.adjustedHeight / 2))\n\t\t\t\t\t.attr(\"dy\", \"1em\")\n          .attr(\"class\", \"yaxis-label\")\n          .style(\"overflow\", \"clip\")\n\t\t\t\t\t.text(this.unit);\n    },\n    drawBars(data) {\n      let x= this.x, y=this.y, me = this, d3 = Px.d3;\n      this.svg.selectAll(\".bar\")\n        .data(data)\n        .enter().append(\"rect\")\n          .attr(\"class\", \"bar\")\n          .attr(\"x\", (d) => { return x(d.x); })\n          .attr(\"y\", (d) => { return this.adjustedHeight; })\n          .style(\"fill\", (d, i) => {\n            if(this.axisConfig.x.series && this.axisConfig.x.series.length > i) {\n              return this.axisConfig.x.series[i].color || \"steelblue\";\n            }\n            return \"steelblue\";\n          })\n          .attr(\"width\", x.bandwidth())\n          .transition()\n          .duration(1000)\n          .attr(\"y\", (d) => { return y(d.y); })\n          .attr(\"height\", (d) => { return this.adjustedHeight - y(d.y); });\n\n          this.svg.selectAll(\".bar\")\n          .on('click', function(d, i) {\n            if(me.axisConfig.x.selectionColor) {\n              d3.select(this).style(\"fill\", me.axisConfig.x.selectionColor);\n              if(me._selections[i]) {\n                let color = \"steelblue\";\n                if(me.axisConfig.x.series && me.axisConfig.x.series.length > i) {\n                  color = me.axisConfig.x.series[i].color || \"steelblue\";\n                }\n                d3.select(this).style(\"fill\", color);\n              }\n            }\n            if(me._selections[i]) {\n              delete me._selections[i];\n              me._selections.total--;\n            } else {\n              me._selections[i] = true;\n              me._selections.total++;\n            }\n            me.fire(\"bar-clicked\", {\"point\": d, \"data\": data,\n              \"index\": i, \"selections\": me._selections});\n          });\n          let tooltip = this.$.tooltip;\n          tooltip.style.display=\"none\";\n          this.svg.selectAll(\".bar\")\n          .on(\"mouseover\", function() {\n              tooltip.style.display= null;\n          })\n          .on(\"mouseout\", function() {\n              tooltip.style.display='none';\n          })\n          .on(\"mousemove\", function(d) {\n              var xPosition = d3.event.offsetX + 20;\n              var yPosition = d3.event.offsetY; //d3.mouse(this)[1]+margin.top+radius;\n              tooltip.style.left= xPosition + \"px\";\n              tooltip.style.top=yPosition + \"px\";\n              tooltip.style.display=\"inline-block\";\n              tooltip.innerHTML='<div class=\"title\">'+d.x+'</div><div class=\"value\">'+d.y+'</div>';\n          });\n    },\n\t\t_drawGridLines(data) {\n\t\t\tlet x= this.x, y=this.y, me = this, d3 = Px.d3;\n      if(!this.axisConfig.x.hideGrid) {\n        this.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"grid x-grid\")\n          .call(d3.axisBottom(x)\n              .ticks(this.axisConfig.x.totalGridLines || 5)\n              .tickSize(this.adjustedHeight)\n              .tickFormat(\"\"));\n      }\n\n      if(!this.axisConfig.y.hideGrid) {\n        this.svg.append(\"g\")\n\t\t\t\t\t.attr(\"class\", \"grid y-grid\")\n          .call(d3.axisLeft(y)\n              .ticks(this.axisConfig.y.totalGridLines || 5)\n              .tickSize(-this.adjustedWidth)\n              .tickFormat(\"\"));\n      }\n\t\t}\n  });\n})();\n"]}